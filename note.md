# 考察メモ

# 5/17

- 短期コンみたいな見た目と入力だけど、結構複雑だな
- クレーンの移動制限が面白い
- 流石にペナルティはない方が良さそうだが、スペースが足りない場合があるのか？
    - 10,000ターンもあればどうとでもなりそう
    - クレーン0が強いので、どんなケースもペナルティは解消できる
- ビームサーチにしろ焼きなましにしろ、強い貪欲が必要
    - 一つのケースを手で解いてみよう
- 運ぶ経路を決める必要がある
    - マルチエージェントな感じはAHC008（動物を囲む回）に似ている
    - 経路の決定はAHC013（サーバールームの回）に似ている
        - 少し場合分けが必要そう
- クレーン0は自由に移動できる
- なんもわからん
    - 自由における場合を考える？
- トポロジカルソート
- いっぺんに解くのは難しそう
    - 自由度高すぎる
- 仮保持しなければおけないコンテナの個数を最小化
- 同時に動かすのは流石に難しい？
- 右から左に持っていくことはあまりしなさそう
- 退避したものを別の場所に移動させることはあるか？
    - 上げるのと下げるのにコストがかかるので、できれば避けたい
    - 横にシフトをする、とかの操作はありうる？
- クレーンの操作はタスク単位で良い？
    - 次のタスクを選ぶ、タスクが終わるまで時間を進める

- 行動単位を「コンテナcをマス(i,j)に運ぶ」とする
- 管理対象
    - コンテナを運ぶ順番
        - 並列で動かすので、順番が前後しそう
    - コンテナを仮に置く位置
    - コンテナを運ぶ経路
- 上記を決めれば、最適なクレーンの割り当てが決まる？
    - 多段階？
    - クレーンの割り当ては多いので、その場で適当にやって良さそう
    - 経路と一緒に最適化することになりそう

## 方針

- コンテナを一時保管する場所を固定する
- 全てのクレーンを使って一つずつ完成させる
    - 運べるものは運んでおく

# 5/18

- クレーン0だけを使えばペナルティはでないので、結局操作回数の最小化
    - 参加の敷居を下げるためだと予想
- コンテナを運ぶ順番を決めるのが良さそう
- 全部を一気にやるのは大変だが、方針は間違えないようにしたい
- クレーンは入り口->仮置き場、仮置き場->出口で役割を分けると無駄が減りそう
    - クレーン0はどっち？
        - 直感的には搬出をやった方が良さそう
- ボトルネックになるのは何か？
    - 運ぶ距離
    - クレーンの待ち時間
        - ガントチャートみたいなものを書く？
- 自由度
    - コンテナを運ぶ順番
    - コンテナを仮位置
- 運び出す順番が後なら、荷物を置く場所は後ろで良い
- 初手がわからん
- 各ジョブを貪欲にやった場合、どれくらい良い解が出るのか
- クレーンが1個の場合
- 仮置き場が自由な場合
- そんなに複雑なことをしたくない
- ターンの最小化 <-> クレーン0以外の待機時間を無くす

## 最適化対象

- 搬入順序
- 仮置き場所
- 搬出順序

- 上記が決まれば、クレーンは貪欲に割り当てれば良さそう
    - クレーンの割り当ては影響少なそう

## 搬入順序

- 仮置き状態のコンテナの個数を減らしたい
- 各時刻tに放置しているコンテナの個数の最小化
- 搬出できるコンテナは全て解消する

## 仮置き場所

- 搬出がしやすい配置を求めたい
- 各時刻の到達不可能なコンテナ配置の最小化

## 搬出順序

- 搬入がしやすくなるように、搬出順序に優先度をつけたい
- 搬出順序は貪欲に決まりそう？
    - 搬出できる状態になったらすぐに搬出した方が良い

## 解表現

- 搬入順序と仮置き場所

# 5/19

- 搬入順序と搬入場所は同時に最適化できそう
- 評価関数
    - 移動距離の総和
        - 搬入口からの距離と搬出口までの距離
    - 到達不可能なコンテナの個数
        - 搬入口から
            - 搬入するたびに到達可能か判定
        - 搬出口から
            - 搬出できるようになった時に到達可能か判定
    - 設置位置の衝突
- 並列なので、順番が前後しても頑健であってほしい
